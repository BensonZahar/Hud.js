import {
    c as b,
    _ as T,
    a as E,
    b as w,
    d as S,
    e as x,
    f as N
} from "./speed.js";
import {
    C as B
} from "./Close.js";
import {
    C as L
} from "./Button.js";
import {
    S as V
} from "./ScrollableContainer.js";
import {
    r as m,
    o as l,
    c as a,
    b as g,
    a as o,
    F as d,
    h,
    n as u,
    e as A,
    t as C,
    f as k,
    w as v,
    k as M,
    d as j,
    _ as q
} from "./index.js";
import "./telegram-authenticator.js";
import "./long-arrow-left-secondary.js";
import "./close2.js";
import "./donate.js";
import "./money.js";
import "./dom.js";

const O = {
    class: "theory__container"
},
P = {
    class: "theory__search-container"
},
D = {
    class: "categories"
},
I = ["onClick"],
K = ["src"],
R = {
    class: "theory__content"
},
Y = {
    class: "content__title"
},
z = ["innerHTML"],
F = {
    key: 0,
    class: "theory__button"
};

function H(c, t, y, r, e, n) {
    const p = m("ControlsClose"),
        i = m("ScrollableContainer"),
        f = m("ControlsButton");
    return l(), a("div", {
        class: u(["theory iface-container", {
            theory_mobile: n.isMobile
        }])
    }, [g(p, {
        onClose: n.close
    }, null, 8, ["onClose"]), t[3] || (t[3] = o("img", {
        class: "theory__logo",
        src: b
    }, null, -1)), t[4] || (t[4] = o("div", {
        class: "theory__title"
    }, "УК РФ и КоАП РФ", -1)), o("div", O, [o("div", P, [o("input", {
        type: "text",
        class: "theory__search-input",
        placeholder: "Поиск по теории...",
        value: e.searchQuery,
        onInput: t[0] || (t[0] = s => e.searchQuery = s.target.value)
    }, null, 40, ["value"]), e.searchQuery ? (l(), a("button", {
        key: 0,
        class: "theory__search-clear",
        onClick: t[1] || (t[1] = s => e.searchQuery = "")
    }, "✕")) : k("", !0)]), o("div", D, [(l(!0), a(d, null, h(e.categories, (s, _) => (l(), a("div", {
        class: u(["categories__item", {
            active: _ === e.currentCategory
        }]),
        key: _,
        onClick: U => n.selectCategory(_)
    }, [A(C(s.title), 1), s.key !== "all" ? (l(), a("img", {
        key: 0,
        src: e.icons[`/src/assets/images/theory/${s.key}.png`]
    }, null, 8, K)) : k("", !0)], 10, I))), 128))]), g(i, {
        class: "theory__wrapper",
        type: 1,
        requiredVerticalScroll: e.requiredScroll
    }, {
        default: v(() => [o("div", R, [g(M, {
            name: "fade"
        }, {
            default: v(() => [(l(!0), a(d, null, h(n.filteredArticles, (s, _) => (l(), a("div", {
                class: "content__item",
                key: _,
                style: j({
                    display: s.key === e.categories[e.currentCategory].key || e.categories[e.currentCategory].key === "all" || e.searchQuery ? "" : "none"
                })
            }, [o("div", Y, C(s.title), 1), o("div", {
                class: "content__text",
                innerHTML: n.formatText(n.highlightSearch(s.content))
            }, null, 8, z)], 4))), 128))]),
            _: 1
        })])]),
        _: 1
    }, 8, ["requiredVerticalScroll"])]), n.isMobile ? k("", !0) : (l(), a("div", F, [g(f, {
        onPressed: t[2] || (t[2] = s => n.selectCategory(e.currentCategory + 1)),
        keyCode: e.KEY_CODE_SPACE,
        text: "Space"
    }, null, 8, ["keyCode"]), t[5] || (t[5] = o("div", {
        class: "theory__button__text"
    }, "Смена категории", -1))]))], 2)
}

const W = {
    name: "Theory",
    components: {
        ControlsClose: B,
        ControlsButton: L,
        ScrollableContainer: V
    },
    data() {
        return {
            icons: {},
            KEY_CODE_SPACE: window.KEY_CODE_SPACE,
            searchQuery: "",
            categories: [{
                title: "Все",
                key: "all"
            }, {
                title: "КоАП ППС",
                key: "pps"
            }, {
                title: "КоАП ДПС",
                key: "dps"
            }, {
                title: "УК РФ",
                key: "uk"
            }],
            currentCategory: 0,
            articles: [{
                key: "pps",
                title: "КоАП ППС (Административные правонарушения)",
                content: `Общий раздел нарушений КоАП:
Глава 1 || Административные правонарушения, посягающие на права граждан
20.1. Оскорбление, то есть унижение чести и достоинства другого лица, выраженное в неприличной форме -
влечет наложение административного штрафа на граждан в размере 5.000 рублей.

20.2. Дискриминация, то есть нарушение прав, свобод и законных интересов человека и гражданина в зависимости от его пола, расы, цвета кожи, национальности, языка, происхождения, имущественного, семейного, социального и должностного положения, возраста, места жительства, отношения к религии, убеждений, принадлежности или не принадлежности к общественным объединениям или каким-либо социальным группам -
влечет наложение административного штрафа на граждан в размере от 1.000 до 5.000 рублей.

Глава 2 || Административные правонарушения, посягающие на здоровье,
санитарно-эпидемиологическое благополучие населения
и общественную нравственность
20.3. Нанесение побоев или совершение иных насильственных действий, причинивших физическую боль,
если эти действия не содержат уголовно наказуемого деяния - влечет наложение административного штрафа в размере от 5.000 до 30.000 рублей, либо административный арест.
20.4. Занятие народной медициной без получения разрешения, установленного законом - влечет наложение административного штрафа в размере от 2.000 до 4.000 рублей.
20.5. Потребление наркотических средств или психотропных веществ без назначения врача либо новых потенциально опасных псих-активных веществ, за исключением случаев, случаев указанных в УК - влечет наложение административного штрафа в размере от 5.000 до 10.000 рублей или административный арест.
20.6. Занятие проституцией - влечет наложение административного штрафа в размере от 1.500 до 3.000 тысяч рублей.
20.7. Курение в общественных местах - влечет наложение административного штрафа в размере от 2.000 до 3.000 тысяч рублей.
20.8. Распитие спиртных напитков в общественных местах -
влечет наложение административного штрафа в размере от 3.000 до 5.000 тысяч рублей.

Глава 3 || Административные правонарушения,
посягающие на общественный порядок и общественную безопасность
20.9. Мелкое хулиганство, то есть нарушение общественного порядка, выражающее явное неуважение к обществу, сопровождающееся нецензурной бранью в общественных местах, оскорбительным приставанием к гражданам, а равно уничтожением или повреждением чужого имущества -
влечет наложение административного штрафа в размере от 1.000 до 2.000 рублей или административный арест.
30.1. Нарушение организатором публичного мероприятия установленного порядка организации либо проведения собрания, митинга, демонстрации, шествия или пикетирования, за исключением случаев, предусмотренных частями УК - влечет наложение административного штрафа на граждан в размере от 10.000 до 20.000 рублей.
30.2. Нарушение правил перевозки, транспортирования оружия и патронов к нему - влечет наложение административного штрафа в размере от 1.000 до 2.000 рублей.
30.3. Появление на улицах, стадионах, в скверах, парках, в транспортном средстве общего пользования, в других общественных местах в состоянии опьянения, оскорбляющем человеческое достоинство и общественную нравственность - влечет наложение административного штрафа в размере от 1.000 до 3.000 рублей.
30.4 Организация блокирования, а равно активное участие в блокировании транспортных коммуникаций, за исключением случаев, предусмотренных УК - влечет наложение административного штрафа на граждан в размере от 30.000 до 100.000 рублей.

Глава 4 || Административные правонарушения,
посягающие на общественный порядок в день тишины.
40.1 Подкуп избирателей, влечет наложение административного штрафа на граждан в размере от 40.000 до 120.000, а так же арест до 15 суток.
40.2 Агитация в день тишины, влечет наложение административного штрафа на граждан в размере от 40.000 до 200.000, а так же арест до 15 суток.`
            }, {
                key: "dps",
                title: "КоАП ДПС (Нарушения ПДД)",
                content: `Административный Кодекс Российской Федерации
Раздел наказаний за нарушение ПДД:

1. Если нарушение было совершено сотрудником государственной организации, то выдача штрафа запрещена.

Глава 1 || Нарушение скоростного режима
1.1. За нарушение скоростного режима последует штраф в размере от 500 до 5000 рублей.
1.2. За нарушение скоростного режима, в следствии чего произошло ДТП ( наезд на пешехода, порча авто ), последует наказание в виде штрафа в размере 10.000 рублей, компенсации за нанесенный ущерб и лишение лицензии на управление транспортным средством.

Глава 2 || Езда по встречной полосе
2.1. За езду по встречной полосе последует штраф в размере 5000 рублей, а так же лишение лицензии на управление ТС.
2.2. За езду по встречной полосе, в следствии чего произошло ДТП, последует наказание в виде штрафа в размере 10.000 рублей, компенсации за нанесенный ущерб и лишение лицензии на управление ТС.

Глава 3 || Проезд красного сигнала светофора
3.1 За проезд красного сигнала светофора последует штраф в размере 3.000 рублей.
3.2 За проезд красного сигнала светофора, в следствии чего произошло ДТП ( наезд на пешехода, порча авто ), последует наказание в виде штрафа в размере 10 000 рублей, компенсации за нанесенный ущерб и лишение лицензии на управление транспортным средством.

Глава 4 || Парковка в неположенном месте
4.1. За парковку ТС в неположенном месте последует штраф в размере 15000 рублей.

Глава 5 || Движение в неположенном месте,
разговор по телефону во время движения
5.1. Намеренное движение ТС по пешеходным дорогам, а также по общественным участкам (парки, территории достопримечательностей) влечет штраф в размере 5.000 рублей, а также лишение водительских прав.
Примечание: Намеренное движение ТС по пешеходным дорогам подразумевает за собой именно намеренное продолжительное движение , ситуации когда игрок лишь проехал через неё не попадают под это правило. [Работает с 19.03.2025]
5.2. За разговор по телефону во время движения последует штраф в размере 1.000 рублей.
Исключение: рабочие ТС, которые въезжают на тротуар, общественные участки (парки, территории достопримечательностей) для выполнения работы.[Работает с 22.03.2025]

Глава 6 || Игнорирование сирен спец. служб
6.1. За игнорирование сирен спец. служб последует штраф в размере 4.000 рублей.
6.2. За игнорирование сирен спец. служб, в следствии чего произошло ДТП, последует наказание в виде штрафа в размере 10.000 рублей, компенсации за нанесенный ущерб и лишение лицензии на управление ТС.

Глава 7 || Затруднение движения, движение без включенного фар ближнего света,
езда на ТС в неисправном состоянии
7.1. За затруднение движения транспортным средством последует наказание в размере 3.000 рублей и лишение лицензии на управление ТС.
7.2. За создание аварийной ситуации, в т.ч. передвижению по проезжей части пешеходом последует наказание в размере 4.000 рублей.
7.3. За управление ТС без включенного ближнего света фар последует штраф в размере 3.000 рублей (Снова активно, в случае если игрок НЕ с hassle, перед тем как выдать штраф полицейский прописывает /id и смотрит с чего игрок играет. Штраф выдается в случае если игрок ТОЛЬКО с RADMIR)
7.4. За езду на ТС в неисправном состоянии последует штраф в размере 3.000 рублей.

Глава 8 || Неуплата штрафов
8.1. За неуплату штрафов за нарушение КоАП или за датчики фиксации в простонародье радаров следует штраф 5.000 рублей.

Глава 9 || Агрессивное вождение ТС
9.1. За агрессивное поведение на дороге будучи находясь в ТС на водительском месте несёт за собой наказание в виде штрафа 10.000 рублей и конфискация всех имеющихся лицензий на управление ТС.

Глава 10 || Езда без номеров на Т/С
10.1. Езда без номеров несет за собой наказание в виде штрафа 5.000 рублей. Повторное нарушение карается лишением водительских прав. (Исключение: допускается без номеров ездить 3 дня с момента покупки тс).

Глава 11 || Езда без пристёгнутого ремня безопасности
11.1. За езду без пристёгнутого ремня безопасности следует штраф в размере 5.000 рублей.

Глава 12 || Тонировка

12.1 За езду на авто с нанесенной пленкой светопропускаемость которой ниже 50% грозит штраф 15.000 рублей. Примечания: Задние стекла могут быть затонированы на все 100%

Глава 13 || Неадекватное поведение

13.1 Запрещено совершать действия, нарушающие общественный порядок.
К таким действиям относятся: Имитация непристойных или оскорбительных действий в отношении служебного транспорта или имущества (например, справление нужды на авто МВД). Лежание, сидение или иное неадекватное взаимодействие с транспортом без обоснованной причины.
Действия, мешающие исполнению обязанностей сотрудников государственных структур или создающие помехи другим гражданам.
За нарушение данного правила предусмотрен штраф в размере 10 000 - 15 000 рублей, в зависимости от степени правонарушения.`
            }, {
                key: "uk",
                title: "УК РФ (Уголовный Кодекс)",
                content: `Здесь должен быть текст УК РФ. Замените этот placeholder на реальный контент, если он есть.`
            }],
            requiredScroll: 0
        }
    },
    computed: {
        isMobile() {
            return this.$root.isMobile
        },
        filteredArticles() {
            if (!this.searchQuery.trim()) return this.articles;
            const c = this.searchQuery.toLowerCase();
            return this.articles.filter(t => t.title.toLowerCase().includes(c) || t.content.toLowerCase().includes(c))
        }
    },
    created() {
        this.$data.noAdaptation = !0
    },
    methods: {
        highlightSearch(c) {
            if (!this.searchQuery.trim()) return c;
            const t = this.searchQuery.replace(/[.*+?^${}()|[\]\\]/g, "\\$&"),
                y = new RegExp(`(${t})`, "giu");
            return c.replace(y, "<mark>$1</mark>")
        },
        formatText(c) {
            const t = /(<img\s[^>]*>)/g,
                y = r => r.split(" ").map(e => e.replace(/\s/g, "").length ? `<word>${`${e} `}</word>` : "").join(" ");
            return c.split(/\n|<br>/g).map(r => {
                let e = `<span class="content__text-row">${r}</span>`;
                return r.match(t) && (e = `<span class="content__text-row">${r.split(t).filter(i=>i.length>0).map(i=>i.match(t)?i:y(i)).join(" ")}</span>`), r.replace(/\s/g, "").length || (e = "<span class='content__text-divider'></span>"), e
            }).join("")
        },
        close() {
            window.closeInterface("Theory2"), sendClientEvent(gm.EVENT_EXECUTE_PUBLIC, "Autoschool_OnTheoryClosed")
        },
        selectCategory(c) {
            if (this.scrollTop(), c === this.categories.length) {
                this.currentCategory = 0;
                return
            }
            this.currentCategory = c
        },
        scrollTop() {
            this.requiredScroll--
        }
    }
};

const re = q(W, [["render", H]]);
export { re as default };